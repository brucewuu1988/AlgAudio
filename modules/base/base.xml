<collection version="1" id="base">
  <name>Base modules</name>
  <defaultlib file="base.aa"/>

  <module id="simplein" name="Simple input">
    <params>
      <outlet id="output"/>
    </params>
    <description> System's first audio input channel is accessible with this module. </description>
    <sc>
arg outbus;
var in = SoundIn.ar(0);
Out.ar(outbus,in);
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="stereoout" name="Stereo output">
    <params>
      <inlet id="inbus1"/>
      <inlet id="inbus2"/>
      <param id="db" name="Volume (dB)" defaultmin="0.0" defaultmax="100.0" defaultval="85"/>
      <param id="measure" mode="output" name="Amplitude (dB)" defaultmin="0.0" defaultmax="100.0" action="custom"/>
      <reply id="amp_reply" param="measure"/>
    </params>
    <description> This module has two inlets, the audio signal connected to them will be played on the system audio output device. </description>
    <sc>
arg inbus1, inbus2, db=85, amp_reply;
var amp = (db-100).dbamp;
var in1 = In.ar(inbus1)*amp;
var in2 = In.ar(inbus2)*amp;
var signal_amp = Amplitude.ar((in1+in2)/2, 0.3, 0.3);
var signal_db = signal_amp.ampdb + 100;
Out.ar(0,in1);
Out.ar(1,in2);
SendReply.kr(Impulse.kr(30), '/algaudioSC/sendreply', signal_db, amp_reply);
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="exvco" name="Simple VCO">
    <params>
      <inlet id="in"/>
      <outlet id="out"/>
      <param id="base" name="Base freq" defaultmin="0.0" defaultmax="1000.0" defaultval="300"/>
      <param id="amt" name="Mod. amount" defaultmin="0.0" defaultmax="200.0" defaultval="50"/>
    </params>
    <description> A simple voltage controlled oscillator. </description>
    <sc>
arg in, out, base=300, amt=50;
Out.ar(out, SinOsc.ar((In.ar(in)*amt)+base, 0, 1));
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="lfsine1" name="Low frequency sine">
    <params>
      <outlet id="out"/>
      <param id="freq" name="Frequency" defaultmin="0.0" defaultmax="8.0" defaultval="3"/>
      <param id="amp" name="Amplitude" defaultmin="0.0" defaultmax="1.0" defaultval="1"/>
    </params>
    <description> A simple low frequency oscillator with customizable frequency. </description>
    <sc>
arg out, freq=3, amp=1;
Out.ar(out, SinOsc.ar(freq, 0, amp));
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="lfsquare1" name="Low frequency square">
    <params>
      <outlet id="out"/>
      <param id="freq" name="Frequency" defaultmin="0.0" defaultmax="8.0" defaultval="3"/>
      <param id="dc" name="Duty cycle" defaultmin="0.0" defaultmax="1.0" defaultval="0.5"/>
      <param id="amp" name="Amplitude" defaultmin="0.0" defaultmax="1.0" defaultval="1"/>
    </params>
    <description> A simple low frequency oscillator with customizable frequency. </description>
    <sc>
arg out, freq=3, amp=1, dc=0.5;
Out.ar(out, LFPulse.ar(freq, 0, dc, amp));
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="whitenoise" name="White noise">
    <params>
      <outlet id="out"/>
    </params>
    <description> This module emits white noise through its only outlet. </description>
    <sc>
arg out;
Out.ar(out, WhiteNoise.ar());
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="pinknoise" name="Pink noise">
    <params>
      <outlet id="out"/>
      <param id="gain" name="Gain" defaultmin="0.0" defaultmax="1.0" defaultval="0.2"/>
    </params>
    <description> This module is a pink noise source. </description>
    <sc>
arg out, gain = 0.2;
Out.ar(out, gain * PinkNoise.ar());
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="sine" name="Sine oscillator">
    <params>
      <outlet id="outbus"/>
      <param id="freq" name="Frequency" defaultmin="10.0" defaultmax="1000.0" defaultval="440.0"/>
      <param id="amp" name="Amplitude" defaultmin="0.0" defaultmax="1.0" defaultval="1.0"/>
    </params>
    <description> A customizable sine oscillator. </description>
    <sc>
arg freq=440, amp=1, outbus;
Out.ar(outbus, SinOsc.ar(freq,0,amp));
    </sc>
    <gui type="standard auto"/>
  </module>


  <module id="square" name="Square oscillator">
    <params>
      <outlet id="outbus"/>
      <param id="freq" name="Frequency" defaultmin="10.0" defaultmax="1000.0" defaultval="440.0"/>
      <param id="dc" name="Duty cycle" defaultmin="0.0" defaultmax="1.0" defaultval="0.5"/>
      <param id="amp" name="Amplitude" defaultmin="0.0" defaultmax="1.0" defaultval="1.0"/>
    </params>
    <description> A customizable square oscillator. </description>
    <sc>
arg freq=440, amp=1, dc=0.5, outbus;
Out.ar(outbus, Pulse.ar(freq,dc,amp));
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="saw" name="Sawtooth oscillator">
    <params>
      <outlet id="outbus"/>
      <param id="freq" name="Frequency" defaultmin="10.0" defaultmax="1000.0" defaultval="440.0"/>
      <param id="amp" name="Amplitude" defaultmin="0.0" defaultmax="1.0" defaultval="1.0"/>
    </params>
    <description> A customizable sawtooth oscillator. </description>
    <sc>
arg freq=440, amp=1, outbus;
Out.ar(outbus, Saw.ar(freq,amp));
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="mixer4-1" name="Simple mixer">
    <params>
      <inlet id="in1"/>
      <inlet id="in2"/>
      <inlet id="in3"/>
      <inlet id="in4"/>
      <outlet id="out"/>
    </params>
    <description> A simple 4-channel mixer with no way to regulate gain. </description>
    <sc>
arg in1, in2, in3, in4, out;
Out.ar(out, In.ar(in1) + In.ar(in2) + In.ar(in3) + In.ar(in4));
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="gain1" name="Gain">
    <params>
      <inlet id="inbus"/>
      <outlet id="outbus"/>
      <param id="gain" name="Level" defaultmin="0.0" defaultmax="2.0" defaultval="1.0"/>
    </params>
    <description> Multiplies signal by a constant value. </description>
    <sc>
arg inbus, outbus, gain=1;
Out.ar(outbus, gain*In.ar(inbus));
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="pan2" name="Panorama">
    <params>
      <inlet id="inbus"/>
      <outlet id="outbus1"/>
      <outlet id="outbus2"/>
      <param id="dir" name="Direction" defaultmin="-1.0" defaultmax="1.0" defaultval="0.0"/>
    </params>
    <description> Distributes a single signal to two outlets. </description>
    <sc>
arg inbus, outbus1, outbus2, dir=0;
var q = 0.5pi*((dir+1)/2);
Out.ar(outbus1, cos(q)*In.ar(inbus));
Out.ar(outbus2, sin(q)*In.ar(inbus));
    </sc>
    <gui type="standard auto"/>
  </module>

  <module id="cross2" name="Crossfade">
    <params>
      <inlet id="inbus1"/>
      <inlet id="inbus2"/>
      <outlet id="outbus"/>
      <param id="src" name="Source" defaultmin="-1.0" defaultmax="1.0" defaultval="0.0"/>
    </params>
    <description> Outputs a balanced mixture of two input signals. </description>
    <sc>
arg inbus1, inbus2, outbus, src=0;
var q = 0.5pi*((src+1)/2);
Out.ar(outbus, (cos(q)*In.ar(inbus1)) + (sin(q)*In.ar(inbus2)));
    </sc>
    <gui type="standard auto"/>
  </module>


  <module id="exrev1" name="Example reverb">
    <params>
      <inlet id="inbus1"/>
      <inlet id="inbus2"/>
      <outlet id="outbus1"/>
      <outlet id="outbus2"/>
    </params>
    <description> A simple basic example reverb. </description>
    <sc>
arg inbus1, inbus2, outbus1, outbus2;
var sig = LocalIn.ar(4);
var input = In.ar([inbus1,inbus2]);
var delays = [0.070,0.042,0.051,0.087] - ControlDur.ir;
sig = sig * [0.73,0.7,0.72,0.78];
sig = ([[1,1,1,1],[1,-1,1,-1],[1,1,-1,-1],[1,-1,-1,1]] * sig).sum;
sig = sig/3;
sig = sig + (input ++ [0,0]);
LocalOut.ar(DelayC.ar(sig,delays,delays));
Out.ar(outbus1,sig[0]);
Out.ar(outbus2,sig[1]);
    </sc>
    <gui type="standard auto"/>
  </module>

</collection>
